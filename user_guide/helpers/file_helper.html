
<!DOCTYPE html>


<html>
	<head>
		<meta charset="utf-8">
	    
	    <title>File Helper &mdash; CodeIgniter 3.0-dev documentation</title>

	    <link rel="stylesheet" href="../_static/asset/css/common.css" type="text/css" />
	    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
	    <script type="text/javascript">
	      var DOCUMENTATION_OPTIONS = {
	        URL_ROOT:    '../',
	        VERSION:     '3.0-dev',
	        COLLAPSE_INDEX: false,
	        FILE_SUFFIX: '.html',
	        HAS_SOURCE:  true
	      };
	    </script>
	    <script type="text/javascript" src="../_static/jquery.js"></script>
	    <script type="text/javascript" src="../_static/underscore.js"></script>
	    <script type="text/javascript" src="../_static/doctools.js"></script>
	    <link rel="top" title="CodeIgniter 3.0-dev documentation" href="../index.html" />
	    <link rel="up" title="Helpers" href="index.html" />
	    <link rel="next" title="Form Helper" href="form_helper.html" />
	    <link rel="prev" title="Email Helper" href="email_helper.html" /> 
	</head>
	<body>
		<div id="table-contents">
			<div class="toctree-wrapper compound">
			<ul>
<li class="toctree-l1"><a class="reference internal" href="../general/index.html">General Topics</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../libraries/index.html">Libraries</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Helpers</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="array_helper.html">Array Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="captcha_helper.html">CAPTCHA Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="cookie_helper.html">Cookie Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="date_helper.html">Date Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="directory_helper.html">Directory Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="download_helper.html">Download Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="email_helper.html">Email Helper</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">File Helper</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="form_helper.html">Form Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="html_helper.html">HTML Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="inflector_helper.html">Inflector Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="language_helper.html">Language Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="number_helper.html">Number Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="path_helper.html">Path Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="security_helper.html">Security Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="smiley_helper.html">Smiley Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="string_helper.html">String Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="text_helper.html">Text Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="typography_helper.html">Typography Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="url_helper.html">URL Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="xml_helper.html">XML Helper</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Contributing to CodeIgniter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../DCO.html">Developer&#8217;s Certificate of Origin 1.1</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../DCO.html">Developer&#8217;s Certificate of Origin 1.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Change Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">Open Software License (&#8220;OSL&#8221;) v 3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license_afl.html">Academic Free License (&#8220;AFL&#8221;) v 3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">CodeIgniter Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/requirements.html">Server Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/welcome.html">Welcome to CodeIgniter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">Installation Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/index.html">General Topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../libraries/index.html">Libraries</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Helpers</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="array_helper.html">Array Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="captcha_helper.html">CAPTCHA Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="cookie_helper.html">Cookie Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="date_helper.html">Date Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="directory_helper.html">Directory Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="download_helper.html">Download Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="email_helper.html">Email Helper</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">File Helper</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="form_helper.html">Form Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="html_helper.html">HTML Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="inflector_helper.html">Inflector Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="language_helper.html">Language Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="number_helper.html">Number Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="path_helper.html">Path Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="security_helper.html">Security Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="smiley_helper.html">Smiley Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="string_helper.html">String Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="text_helper.html">Text Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="typography_helper.html">Typography Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="url_helper.html">URL Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="xml_helper.html">XML Helper</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../database/index.html">The Database Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../documentation/index.html">Writing CodeIgniter Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/quick_reference.html">Quick Reference Chart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/credits.html">Credits</a></li>
</ul>

			</div>
		</div>

		<div id="brand" class="ci">
			<a href="http://codeigniter.com/"><img src="../_static/asset/img/ci-logo.gif" alt="CodeIgniter"></a>
			<p>3.0-dev User Guide</p>
		</div><!-- /#brand -->

		<div id="header">
			<form method="get" action="http://www.google.com/search">
				<fieldset>
					<input type="text" name="q" id="q" value="">
					<input type="hidden" name="as_sitesearch" id="as_sitesearch" value="codeigniter.com/user_guide/" />
					<input class="grades" type="submit" value="search">
				</fieldset>
			</form>
			<ul>
				<li><a href="../index.html">User Guide Home</a>&nbsp;&nbsp; &rsaquo;</li>
				<li><a href="index.html" accesskey="U">Helpers</a>&nbsp;&nbsp;  &rsaquo;</li>
				<li><strong>File Helper</strong></li>
			</ul>
		</div><!-- /#header -->

		<div class="section" id="content">
			<div class="section" id="file-helper">
<h1><a class="toc-backref" href="#id1">File Helper</a><a class="headerlink" href="#file-helper" title="Permalink to this headline">¶</a></h1>
<p>The File Helper file contains functions that assist in working with files.</p>
<div class="contents topic" id="page-contents">
<p class="topic-title first">Page Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#file-helper" id="id1">File Helper</a><ul>
<li><a class="reference internal" href="#loading-this-helper" id="id2">Loading this Helper</a></li>
<li><a class="reference internal" href="#read-file-path" id="id3">read_file(&#8216;path&#8217;)</a></li>
<li><a class="reference internal" href="#write-file-path-data" id="id4">write_file(&#8216;path&#8217;, $data)</a></li>
<li><a class="reference internal" href="#delete-files-path" id="id5">delete_files(&#8216;path&#8217;)</a></li>
<li><a class="reference internal" href="#get-filenames-path-to-directory" id="id6">get_filenames(&#8216;path/to/directory/&#8217;)</a></li>
<li><a class="reference internal" href="#get-dir-file-info-path-to-directory-top-level-only-true" id="id7">get_dir_file_info(&#8216;path/to/directory/&#8217;, $top_level_only = TRUE)</a></li>
<li><a class="reference internal" href="#get-file-info-path-to-file-file-information" id="id8">get_file_info(&#8216;path/to/file&#8217;, $file_information)</a></li>
<li><a class="reference internal" href="#get-mime-by-extension-file" id="id9">get_mime_by_extension(&#8216;file&#8217;)</a></li>
<li><a class="reference internal" href="#symbolic-permissions-perms" id="id10">symbolic_permissions($perms)</a></li>
<li><a class="reference internal" href="#octal-permissions-perms" id="id11">octal_permissions($perms)</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="loading-this-helper">
<h2><a class="toc-backref" href="#id2">Loading this Helper</a><a class="headerlink" href="#loading-this-helper" title="Permalink to this headline">¶</a></h2>
<p>This helper is loaded using the following code</p>
<div class="highlight-ci"><pre>$this-&gt;load-&gt;helper('file');</pre>
</div>
<p>The following functions are available:</p>
</div>
<div class="section" id="read-file-path">
<h2><a class="toc-backref" href="#id3">read_file(&#8216;path&#8217;)</a><a class="headerlink" href="#read-file-path" title="Permalink to this headline">¶</a></h2>
<p>Returns the data contained in the file specified in the path. Example</p>
<div class="highlight-ci"><pre>$string = read_file('./path/to/file.php');</pre>
</div>
<p>The path can be a relative or full server path. Returns FALSE (boolean) on failure.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The path is relative to your main site index.php file, NOT your
controller or view files. CodeIgniter uses a front controller so paths
are always relative to the main site index.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This function is DEPRECATED. Use the native <tt class="docutils literal"><span class="pre">file_get_contents()</span></tt>
instead.</p>
</div>
<p>If your server is running an <cite>open_basedir</cite> restriction this function might not work if you are trying to access a file above the calling script.</p>
</div>
<div class="section" id="write-file-path-data">
<h2><a class="toc-backref" href="#id4">write_file(&#8216;path&#8217;, $data)</a><a class="headerlink" href="#write-file-path-data" title="Permalink to this headline">¶</a></h2>
<p>Writes data to the file specified in the path. If the file does not exist the function will create it. Example</p>
<div class="highlight-ci"><pre>$data = 'Some file data';
if ( ! write_file('./path/to/file.php', $data))
{
        echo 'Unable to write the file';
}
else
{
        echo 'File written!';
}</pre>
</div>
<p>You can optionally set the write mode via the third parameter</p>
<div class="highlight-ci"><pre>write_file('./path/to/file.php', $data, 'r+');</pre>
</div>
<p>The default mode is wb. Please see the <a class="reference external" href="http://php.net/fopen">PHP user guide</a> for mode options.</p>
<p>Note: In order for this function to write data to a file its file permissions must be set such that it is writable (666, 777, etc.). If the file does not already exist, the directory containing it must be writable.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The path is relative to your main site index.php file, NOT your
controller or view files. CodeIgniter uses a front controller so paths
are always relative to the main site index.</p>
</div>
</div>
<div class="section" id="delete-files-path">
<h2><a class="toc-backref" href="#id5">delete_files(&#8216;path&#8217;)</a><a class="headerlink" href="#delete-files-path" title="Permalink to this headline">¶</a></h2>
<p>Deletes ALL files contained in the supplied path. Example</p>
<div class="highlight-ci"><pre>delete_files('./path/to/directory/');</pre>
</div>
<p>If the second parameter is set to true, any directories contained within the supplied root path will be deleted as well. Example</p>
<div class="highlight-ci"><pre>delete_files('./path/to/directory/', TRUE);</pre>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The files must be writable or owned by the system in order to be deleted.</p>
</div>
</div>
<div class="section" id="get-filenames-path-to-directory">
<h2><a class="toc-backref" href="#id6">get_filenames(&#8216;path/to/directory/&#8217;)</a><a class="headerlink" href="#get-filenames-path-to-directory" title="Permalink to this headline">¶</a></h2>
<p>Takes a server path as input and returns an array containing the names of all files contained within it. The file path can optionally be added to the file names by setting the second parameter to TRUE.</p>
</div>
<div class="section" id="get-dir-file-info-path-to-directory-top-level-only-true">
<h2><a class="toc-backref" href="#id7">get_dir_file_info(&#8216;path/to/directory/&#8217;, $top_level_only = TRUE)</a><a class="headerlink" href="#get-dir-file-info-path-to-directory-top-level-only-true" title="Permalink to this headline">¶</a></h2>
<p>Reads the specified directory and builds an array containing the filenames, filesize, dates, and permissions. Sub-folders contained within the specified path are only read if forced by sending the second parameter, $top_level_only to FALSE, as this can be an intensive operation.</p>
</div>
<div class="section" id="get-file-info-path-to-file-file-information">
<h2><a class="toc-backref" href="#id8">get_file_info(&#8216;path/to/file&#8217;, $file_information)</a><a class="headerlink" href="#get-file-info-path-to-file-file-information" title="Permalink to this headline">¶</a></h2>
<p>Given a file and path, returns the name, path, size, date modified. Second parameter allows you to explicitly declare what information you want returned; options are: <cite>name</cite>, <cite>server_path</cite>, <cite>size</cite>, <cite>date</cite>, <cite>readable</cite>, <cite>writable</cite>, <cite>executable</cite>, <cite>fileperms</cite>. Returns FALSE if the file cannot be found.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The &#8220;writable&#8221; uses the PHP function is_writable() which is known
to have issues on the IIS webserver. Consider using fileperms instead,
which returns information from PHP&#8217;s fileperms() function.</p>
</div>
</div>
<div class="section" id="get-mime-by-extension-file">
<h2><a class="toc-backref" href="#id9">get_mime_by_extension(&#8216;file&#8217;)</a><a class="headerlink" href="#get-mime-by-extension-file" title="Permalink to this headline">¶</a></h2>
<p>Translates a file extension into a mime type based on config/mimes.php. Returns FALSE if it can&#8217;t determine the type, or open the mime config file.</p>
<div class="highlight-ci"><pre>$file = "somefile.png";
echo $file . ' is has a mime type of ' . get_mime_by_extension($file);</pre>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is not an accurate way of determining file mime types, and
is here strictly as a convenience. It should not be used for security.</p>
</div>
</div>
<div class="section" id="symbolic-permissions-perms">
<h2><a class="toc-backref" href="#id10">symbolic_permissions($perms)</a><a class="headerlink" href="#symbolic-permissions-perms" title="Permalink to this headline">¶</a></h2>
<p>Takes numeric permissions (such as is returned by <cite>fileperms()</cite> and returns standard symbolic notation of file permissions.</p>
<div class="highlight-ci"><pre>echo symbolic_permissions(fileperms('./index.php'));  // -rw-r--r--</pre>
</div>
</div>
<div class="section" id="octal-permissions-perms">
<h2><a class="toc-backref" href="#id11">octal_permissions($perms)</a><a class="headerlink" href="#octal-permissions-perms" title="Permalink to this headline">¶</a></h2>
<p>Takes numeric permissions (such as is returned by fileperms() and returns a three character octal notation of file permissions.</p>
<div class="highlight-ci"><pre>echo octal_permissions(fileperms('./index.php'));  // 644</pre>
</div>
</div>
</div>

		</div>

		<!-- {user_guide_comments} -->
					
		<div id="footer">
			<p class="top"><a href="#header" title="Return to top">Return to top</a></p>
			<p><a href="">CodeIgniter</a> &ndash; Copyright &copy; 2012, EllisLab, Inc.</a></p>
		</div><!-- /#footer -->
	</body>
</html>