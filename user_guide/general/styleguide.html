
<!DOCTYPE html>


<html>
	<head>
		<meta charset="utf-8">
	    
	    <title>PHP Style Guide &mdash; CodeIgniter 3.0-dev documentation</title>

	    <link rel="stylesheet" href="../_static/asset/css/common.css" type="text/css" />
	    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
	    <script type="text/javascript">
	      var DOCUMENTATION_OPTIONS = {
	        URL_ROOT:    '../',
	        VERSION:     '3.0-dev',
	        COLLAPSE_INDEX: false,
	        FILE_SUFFIX: '.html',
	        HAS_SOURCE:  true
	      };
	    </script>
	    <script type="text/javascript" src="../_static/jquery.js"></script>
	    <script type="text/javascript" src="../_static/underscore.js"></script>
	    <script type="text/javascript" src="../_static/doctools.js"></script>
	    <link rel="top" title="CodeIgniter 3.0-dev documentation" href="../index.html" />
	    <link rel="up" title="General Topics" href="index.html" />
	    <link rel="next" title="Libraries" href="../libraries/index.html" />
	    <link rel="prev" title="Security" href="security.html" /> 
	</head>
	<body>
		<div id="table-contents">
			<div class="toctree-wrapper compound">
			<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">General Topics</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="urls.html">CodeIgniter URLs</a></li>
<li class="toctree-l2"><a class="reference internal" href="controllers.html">Controllers</a></li>
<li class="toctree-l2"><a class="reference internal" href="reserved_names.html">Reserved Names</a></li>
<li class="toctree-l2"><a class="reference internal" href="views.html">Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="models.html">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers.html">Helpers</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries.html">Using CodeIgniter Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="creating_libraries.html">Creating Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="drivers.html">Using CodeIgniter Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="creating_drivers.html">Creating Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="core_classes.html">Creating Core System Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="ancillary_classes.html">Creating Ancillary Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="hooks.html">Hooks - Extending the Framework Core</a></li>
<li class="toctree-l2"><a class="reference internal" href="autoloader.html">Auto-loading Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="common_functions.html">Common Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="routing.html">URI Routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="errors.html">Error Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="caching.html">Caching</a></li>
<li class="toctree-l2"><a class="reference internal" href="profiling.html">Profiling Your Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="cli.html">Running via the CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="managing_apps.html">Managing your Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="environments.html">Handling Multiple Environments</a></li>
<li class="toctree-l2"><a class="reference internal" href="alternative_php.html">Alternate PHP Syntax for View Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html">Security</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">PHP Style Guide</a><ul class="simple">
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../libraries/index.html">Libraries</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../helpers/index.html">Helpers</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Contributing to CodeIgniter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../DCO.html">Developer&#8217;s Certificate of Origin 1.1</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../DCO.html">Developer&#8217;s Certificate of Origin 1.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Change Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">Open Software License (&#8220;OSL&#8221;) v 3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license_afl.html">Academic Free License (&#8220;AFL&#8221;) v 3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">CodeIgniter Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="requirements.html">Server Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="welcome.html">Welcome to CodeIgniter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">Installation Instructions</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">General Topics</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="urls.html">CodeIgniter URLs</a></li>
<li class="toctree-l2"><a class="reference internal" href="controllers.html">Controllers</a></li>
<li class="toctree-l2"><a class="reference internal" href="reserved_names.html">Reserved Names</a></li>
<li class="toctree-l2"><a class="reference internal" href="views.html">Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="models.html">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers.html">Helpers</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries.html">Using CodeIgniter Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="creating_libraries.html">Creating Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="drivers.html">Using CodeIgniter Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="creating_drivers.html">Creating Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="core_classes.html">Creating Core System Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="ancillary_classes.html">Creating Ancillary Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="hooks.html">Hooks - Extending the Framework Core</a></li>
<li class="toctree-l2"><a class="reference internal" href="autoloader.html">Auto-loading Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="common_functions.html">Common Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="routing.html">URI Routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="errors.html">Error Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="caching.html">Caching</a></li>
<li class="toctree-l2"><a class="reference internal" href="profiling.html">Profiling Your Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="cli.html">Running via the CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="managing_apps.html">Managing your Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="environments.html">Handling Multiple Environments</a></li>
<li class="toctree-l2"><a class="reference internal" href="alternative_php.html">Alternate PHP Syntax for View Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html">Security</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">PHP Style Guide</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../libraries/index.html">Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../helpers/index.html">Helpers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../database/index.html">The Database Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../documentation/index.html">Writing CodeIgniter Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="quick_reference.html">Quick Reference Chart</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Credits</a></li>
</ul>

			</div>
		</div>

		<div id="brand" class="ci">
			<a href="http://codeigniter.com/"><img src="../_static/asset/img/ci-logo.gif" alt="CodeIgniter"></a>
			<p>3.0-dev User Guide</p>
		</div><!-- /#brand -->

		<div id="header">
			<form method="get" action="http://www.google.com/search">
				<fieldset>
					<input type="text" name="q" id="q" value="">
					<input type="hidden" name="as_sitesearch" id="as_sitesearch" value="codeigniter.com/user_guide/" />
					<input class="grades" type="submit" value="search">
				</fieldset>
			</form>
			<ul>
				<li><a href="../index.html">User Guide Home</a>&nbsp;&nbsp; &rsaquo;</li>
				<li><a href="index.html" accesskey="U">General Topics</a>&nbsp;&nbsp;  &rsaquo;</li>
				<li><strong>PHP Style Guide</strong></li>
			</ul>
		</div><!-- /#header -->

		<div class="section" id="content">
			<div class="section" id="php-style-guide">
<h1><a class="toc-backref" href="#id1">PHP Style Guide</a><a class="headerlink" href="#php-style-guide" title="Permalink to this headline">¶</a></h1>
<p>The following page describes the use of coding rules adhered to when
developing CodeIgniter.</p>
<div class="contents topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#php-style-guide" id="id1">PHP Style Guide</a><ul>
<li><a class="reference internal" href="#file-format" id="id2">File Format</a><ul>
<li><a class="reference internal" href="#textmate" id="id3">TextMate</a></li>
<li><a class="reference internal" href="#bbedit" id="id4">BBEdit</a></li>
</ul>
</li>
<li><a class="reference internal" href="#php-closing-tag" id="id5">PHP Closing Tag</a></li>
<li><a class="reference internal" href="#class-and-method-naming" id="id6">Class and Method Naming</a></li>
<li><a class="reference internal" href="#variable-names" id="id7">Variable Names</a></li>
<li><a class="reference internal" href="#commenting" id="id8">Commenting</a></li>
<li><a class="reference internal" href="#constants" id="id9">Constants</a></li>
<li><a class="reference internal" href="#true-false-and-null" id="id10">TRUE, FALSE, and NULL</a></li>
<li><a class="reference internal" href="#logical-operators" id="id11">Logical Operators</a></li>
<li><a class="reference internal" href="#comparing-return-values-and-typecasting" id="id12">Comparing Return Values and Typecasting</a></li>
<li><a class="reference internal" href="#debugging-code" id="id13">Debugging Code</a></li>
<li><a class="reference internal" href="#whitespace-in-files" id="id14">Whitespace in Files</a></li>
<li><a class="reference internal" href="#compatibility" id="id15">Compatibility</a></li>
<li><a class="reference internal" href="#class-and-file-names-using-common-words" id="id16">Class and File Names using Common Words</a></li>
<li><a class="reference internal" href="#database-table-names" id="id17">Database Table Names</a></li>
<li><a class="reference internal" href="#one-file-per-class" id="id18">One File per Class</a></li>
<li><a class="reference internal" href="#whitespace" id="id19">Whitespace</a></li>
<li><a class="reference internal" href="#line-breaks" id="id20">Line Breaks</a></li>
<li><a class="reference internal" href="#code-indenting" id="id21">Code Indenting</a></li>
<li><a class="reference internal" href="#bracket-and-parenthetic-spacing" id="id22">Bracket and Parenthetic Spacing</a></li>
<li><a class="reference internal" href="#localized-text" id="id23">Localized Text</a></li>
<li><a class="reference internal" href="#private-methods-and-variables" id="id24">Private Methods and Variables</a></li>
<li><a class="reference internal" href="#php-errors" id="id25">PHP Errors</a></li>
<li><a class="reference internal" href="#short-open-tags" id="id26">Short Open Tags</a></li>
<li><a class="reference internal" href="#one-statement-per-line" id="id27">One Statement Per Line</a></li>
<li><a class="reference internal" href="#strings" id="id28">Strings</a></li>
<li><a class="reference internal" href="#sql-queries" id="id29">SQL Queries</a></li>
<li><a class="reference internal" href="#default-function-arguments" id="id30">Default Function Arguments</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="file-format">
<h2><a class="toc-backref" href="#id2">File Format</a><a class="headerlink" href="#file-format" title="Permalink to this headline">¶</a></h2>
<p>Files should be saved with Unicode (UTF-8) encoding. The BOM should
<em>not</em> be used. Unlike UTF-16 and UTF-32, there&#8217;s no byte order to
indicate in a UTF-8 encoded file, and the BOM can have a negative side
effect in PHP of sending output, preventing the application from being
able to set its own headers. Unix line endings should be used (LF).</p>
<p>Here is how to apply these settings in some of the more common text
editors. Instructions for your text editor may vary; check your text
editor&#8217;s documentation.</p>
<div class="section" id="textmate">
<h3><a class="toc-backref" href="#id3">TextMate</a><a class="headerlink" href="#textmate" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>Open the Application Preferences</li>
<li>Click Advanced, and then the &#8220;Saving&#8221; tab</li>
<li>In &#8220;File Encoding&#8221;, select &#8220;UTF-8 (recommended)&#8221;</li>
<li>In &#8220;Line Endings&#8221;, select &#8220;LF (recommended)&#8221;</li>
<li><em>Optional:</em> Check &#8220;Use for existing files as well&#8221; if you wish to
modify the line endings of files you open to your new preference.</li>
</ol>
</div>
<div class="section" id="bbedit">
<h3><a class="toc-backref" href="#id4">BBEdit</a><a class="headerlink" href="#bbedit" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>Open the Application Preferences</li>
<li>Select &#8220;Text Encodings&#8221; on the left.</li>
<li>In &#8220;Default text encoding for new documents&#8221;, select &#8220;Unicode (UTF-8,
no BOM)&#8221;</li>
<li><em>Optional:</em> In &#8220;If file&#8217;s encoding can&#8217;t be guessed, use&#8221;, select
&#8220;Unicode (UTF-8, no BOM)&#8221;</li>
<li>Select &#8220;Text Files&#8221; on the left.</li>
<li>In &#8220;Default line breaks&#8221;, select &#8220;Mac OS X and Unix (LF)&#8221;</li>
</ol>
</div>
</div>
<div class="section" id="php-closing-tag">
<h2><a class="toc-backref" href="#id5">PHP Closing Tag</a><a class="headerlink" href="#php-closing-tag" title="Permalink to this headline">¶</a></h2>
<p>The PHP closing tag on a PHP document <strong>?&gt;</strong> is optional to the PHP
parser. However, if used, any whitespace following the closing tag,
whether introduced by the developer, user, or an FTP application, can
cause unwanted output, PHP errors, or if the latter are suppressed,
blank pages. For this reason, all PHP files should <strong>OMIT</strong> the closing
PHP tag, and instead use a comment block to mark the end of file and
it&#8217;s location relative to the application root. This allows you to still
identify a file as being complete and not truncated.</p>
<p><strong>INCORRECT</strong>:</p>
<div class="highlight-ci"><pre>&lt;?php

echo "Here's my code!";

?&gt;</pre>
</div>
<p><strong>CORRECT</strong>:</p>
<div class="highlight-ci"><pre>&lt;?php

echo "Here's my code!";

/* End of file myfile.php */
/* Location: ./system/modules/mymodule/myfile.php */</pre>
</div>
</div>
<div class="section" id="class-and-method-naming">
<h2><a class="toc-backref" href="#id6">Class and Method Naming</a><a class="headerlink" href="#class-and-method-naming" title="Permalink to this headline">¶</a></h2>
<p>Class names should always start with an uppercase letter. Multiple words
should be separated with an underscore, and not CamelCased. All other
class methods should be entirely lowercased and named to clearly
indicate their function, preferably including a verb. Try to avoid
overly long and verbose names.</p>
<p><strong>INCORRECT</strong>:</p>
<div class="highlight-ci"><pre>class superclass
class SuperClass</pre>
</div>
<p><strong>CORRECT</strong>:</p>
<div class="highlight-ci"><pre>class Super_class</pre>
</div>
<div class="highlight-ci"><pre>class Super_class {

        public function __construct()
        {

        }
}</pre>
</div>
<p>Examples of improper and proper method naming:</p>
<p><strong>INCORRECT</strong>:</p>
<div class="highlight-ci"><pre>function fileproperties()               // not descriptive and needs underscore separator
function fileProperties()               // not descriptive and uses CamelCase
function getfileproperties()            // Better!  But still missing underscore separator
function getFileProperties()            // uses CamelCase
function get_the_file_properties_from_the_file()        // wordy</pre>
</div>
<p><strong>CORRECT</strong>:</p>
<div class="highlight-ci"><pre>function get_file_properties()  // descriptive, underscore separator, and all lowercase letters</pre>
</div>
</div>
<div class="section" id="variable-names">
<h2><a class="toc-backref" href="#id7">Variable Names</a><a class="headerlink" href="#variable-names" title="Permalink to this headline">¶</a></h2>
<p>The guidelines for variable naming is very similar to that used for
class methods. Namely, variables should contain only lowercase letters,
use underscore separators, and be reasonably named to indicate their
purpose and contents. Very short, non-word variables should only be used
as iterators in for() loops.</p>
<p><strong>INCORRECT</strong>:</p>
<div class="highlight-ci"><pre>$j = 'foo';             // single letter variables should only be used in for() loops
$Str                    // contains uppercase letters
$bufferedText           // uses CamelCasing, and could be shortened without losing semantic meaning
$groupid                // multiple words, needs underscore separator
$name_of_last_city_used // too long</pre>
</div>
<p><strong>CORRECT</strong>:</p>
<div class="highlight-ci"><pre>for ($j = 0; $j &lt; 10; $j++)
$str
$buffer
$group_id
$last_city</pre>
</div>
</div>
<div class="section" id="commenting">
<h2><a class="toc-backref" href="#id8">Commenting</a><a class="headerlink" href="#commenting" title="Permalink to this headline">¶</a></h2>
<p>In general, code should be commented prolifically. It not only helps
describe the flow and intent of the code for less experienced
programmers, but can prove invaluable when returning to your own code
months down the line. There is not a required format for comments, but
the following are recommended.</p>
<p><a class="reference external" href="http://manual.phpdoc.org/HTMLSmartyConverter/HandS/phpDocumentor/tutorial_phpDocumentor.howto.pkg.html#basics.docblock">DocBlock</a>
style comments preceding class, method, and property declarations so they can be
picked up by IDEs:</p>
<div class="highlight-ci"><pre>/**
 * Super Class
 *
 * @package     Package Name
 * @subpackage  Subpackage
 * @category    Category
 * @author      Author Name
 * @link        http://example.com
 */
class Super_class {</pre>
</div>
<div class="highlight-ci"><pre>/**
 * Encodes string for use in XML
 *
 * @param       string
 * @return      string
 */
function xml_encode($str)</pre>
</div>
<div class="highlight-ci"><pre>/**
 * Data for class manipulation
 *
 * @var array
 */
public $data</pre>
</div>
<p>Use single line comments within code, leaving a blank line between large
comment blocks and code.</p>
<div class="highlight-ci"><pre>// break up the string by newlines
$parts = explode("\n", $str);

// A longer comment that needs to give greater detail on what is
// occurring and why can use multiple single-line comments.  Try to
// keep the width reasonable, around 70 characters is the easiest to
// read.  Don't hesitate to link to permanent external resources
// that may provide greater detail:
//
// http://example.com/information_about_something/in_particular/

$parts = $this-&gt;foo($parts);</pre>
</div>
</div>
<div class="section" id="constants">
<h2><a class="toc-backref" href="#id9">Constants</a><a class="headerlink" href="#constants" title="Permalink to this headline">¶</a></h2>
<p>Constants follow the same guidelines as do variables, except constants
should always be fully uppercase. <em>Always use CodeIgniter constants when
appropriate, i.e. SLASH, LD, RD, PATH_CACHE, etc.</em></p>
<p><strong>INCORRECT</strong>:</p>
<div class="highlight-ci"><pre>myConstant      // missing underscore separator and not fully uppercase
N               // no single-letter constants
S_C_VER         // not descriptive
$str = str_replace('{foo}', 'bar', $str);       // should use LD and RD constants</pre>
</div>
<p><strong>CORRECT</strong>:</p>
<div class="highlight-ci"><pre>MY_CONSTANT
NEWLINE
SUPER_CLASS_VERSION
$str = str_replace(LD.'foo'.RD, 'bar', $str);</pre>
</div>
</div>
<div class="section" id="true-false-and-null">
<h2><a class="toc-backref" href="#id10">TRUE, FALSE, and NULL</a><a class="headerlink" href="#true-false-and-null" title="Permalink to this headline">¶</a></h2>
<p><strong>TRUE</strong>, <strong>FALSE</strong>, and <strong>NULL</strong> keywords should always be fully
uppercase.</p>
<p><strong>INCORRECT</strong>:</p>
<div class="highlight-ci"><pre>if ($foo == true)
$bar = false;
function foo($bar = null)</pre>
</div>
<p><strong>CORRECT</strong>:</p>
<div class="highlight-ci"><pre>if ($foo == TRUE)
$bar = FALSE;
function foo($bar = NULL)</pre>
</div>
</div>
<div class="section" id="logical-operators">
<h2><a class="toc-backref" href="#id11">Logical Operators</a><a class="headerlink" href="#logical-operators" title="Permalink to this headline">¶</a></h2>
<p>Use of <strong>||</strong> is discouraged as its clarity on some output devices is
low (looking like the number 11 for instance). <strong>&amp;&amp;</strong> is preferred over
<strong>AND</strong> but either are acceptable, and a space should always precede and
follow <strong>!</strong>.</p>
<p><strong>INCORRECT</strong>:</p>
<div class="highlight-ci"><pre>if ($foo || $bar)
if ($foo AND $bar)  // okay but not recommended for common syntax highlighting applications
if (!$foo)
if (! is_array($foo))</pre>
</div>
<p><strong>CORRECT</strong>:</p>
<div class="highlight-ci"><pre>if ($foo OR $bar)
if ($foo &amp;&amp; $bar) // recommended
if ( ! $foo)
if ( ! is_array($foo))</pre>
</div>
</div>
<div class="section" id="comparing-return-values-and-typecasting">
<h2><a class="toc-backref" href="#id12">Comparing Return Values and Typecasting</a><a class="headerlink" href="#comparing-return-values-and-typecasting" title="Permalink to this headline">¶</a></h2>
<p>Some PHP functions return FALSE on failure, but may also have a valid
return value of &#8220;&#8221; or 0, which would evaluate to FALSE in loose
comparisons. Be explicit by comparing the variable type when using these
return values in conditionals to ensure the return value is indeed what
you expect, and not a value that has an equivalent loose-type
evaluation.</p>
<p>Use the same stringency in returning and checking your own variables.
Use <strong>===</strong> and <strong>!==</strong> as necessary.</p>
<p><strong>INCORRECT</strong>:</p>
<div class="highlight-ci"><pre>// If 'foo' is at the beginning of the string, strpos will return a 0,
// resulting in this conditional evaluating as TRUE
if (strpos($str, 'foo') == FALSE)</pre>
</div>
<p><strong>CORRECT</strong>:</p>
<div class="highlight-ci"><pre>if (strpos($str, 'foo') === FALSE)</pre>
</div>
<p><strong>INCORRECT</strong>:</p>
<div class="highlight-ci"><pre>function build_string($str = "")
{
        if ($str == "") // uh-oh!  What if FALSE or the integer 0 is passed as an argument?
        {

        }
}</pre>
</div>
<p><strong>CORRECT</strong>:</p>
<div class="highlight-ci"><pre>function build_string($str = "")
{
        if ($str === "")
        {

        }
}</pre>
</div>
<p>See also information regarding
<a class="reference external" href="http://us3.php.net/manual/en/language.types.type-juggling.php#language.types.typecasting">typecasting</a>,
which can be quite useful. Typecasting has a slightly different effect
which may be desirable. When casting a variable as a string, for
instance, NULL and boolean FALSE variables become empty strings, 0 (and
other numbers) become strings of digits, and boolean TRUE becomes &#8220;1&#8221;:</p>
<div class="highlight-ci"><pre>$str = (string) $str; // cast $str as a string</pre>
</div>
</div>
<div class="section" id="debugging-code">
<h2><a class="toc-backref" href="#id13">Debugging Code</a><a class="headerlink" href="#debugging-code" title="Permalink to this headline">¶</a></h2>
<p>No debugging code can be left in place for submitted add-ons unless it
is commented out, i.e. no var_dump(), print_r(), die(), and exit()
calls that were used while creating the add-on, unless they are
commented out.</p>
<div class="highlight-ci"><pre>// print_r($foo);</pre>
</div>
</div>
<div class="section" id="whitespace-in-files">
<h2><a class="toc-backref" href="#id14">Whitespace in Files</a><a class="headerlink" href="#whitespace-in-files" title="Permalink to this headline">¶</a></h2>
<p>No whitespace can precede the opening PHP tag or follow the closing PHP
tag. Output is buffered, so whitespace in your files can cause output to
begin before CodeIgniter outputs its content, leading to errors and an
inability for CodeIgniter to send proper headers. In the examples below,
select the text with your mouse to reveal the incorrect whitespace.</p>
</div>
<div class="section" id="compatibility">
<h2><a class="toc-backref" href="#id15">Compatibility</a><a class="headerlink" href="#compatibility" title="Permalink to this headline">¶</a></h2>
<p>Unless specifically mentioned in your add-on&#8217;s documentation, all code
must be compatible with PHP version 5.1+. Additionally, do not use PHP
functions that require non-default libraries to be installed unless your
code contains an alternative method when the function is not available,
or you implicitly document that your add-on requires said PHP libraries.</p>
</div>
<div class="section" id="class-and-file-names-using-common-words">
<h2><a class="toc-backref" href="#id16">Class and File Names using Common Words</a><a class="headerlink" href="#class-and-file-names-using-common-words" title="Permalink to this headline">¶</a></h2>
<p>When your class or filename is a common word, or might quite likely be
identically named in another PHP script, provide a unique prefix to help
prevent collision. Always realize that your end users may be running
other add-ons or third party PHP scripts. Choose a prefix that is unique
to your identity as a developer or company.</p>
<p><strong>INCORRECT</strong>:</p>
<div class="highlight-ci"><pre>class Email             pi.email.php
class Xml               ext.xml.php
class Import    mod.import.php</pre>
</div>
<p><strong>CORRECT</strong>:</p>
<div class="highlight-ci"><pre>class Pre_email         pi.pre_email.php
class Pre_xml           ext.pre_xml.php
class Pre_import        mod.pre_import.php</pre>
</div>
</div>
<div class="section" id="database-table-names">
<h2><a class="toc-backref" href="#id17">Database Table Names</a><a class="headerlink" href="#database-table-names" title="Permalink to this headline">¶</a></h2>
<p>Any tables that your add-on might use must use the &#8216;exp_&#8217; prefix,
followed by a prefix uniquely identifying you as the developer or
company, and then a short descriptive table name. You do not need to be
concerned about the database prefix being used on the user&#8217;s
installation, as CodeIgniter&#8217;s database class will automatically convert
&#8216;exp_&#8217; to what is actually being used.</p>
<p><strong>INCORRECT</strong>:</p>
<div class="highlight-ci"><pre>email_addresses         // missing both prefixes
pre_email_addresses     // missing exp_ prefix
exp_email_addresses     // missing unique prefix</pre>
</div>
<p><strong>CORRECT</strong>:</p>
<div class="highlight-ci"><pre>exp_pre_email_addresses</pre>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Be mindful that MySQL has a limit of 64 characters for table
names. This should not be an issue as table names that would exceed this
would likely have unreasonable names. For instance, the following table
name exceeds this limitation by one character. Silly, no?
<strong>exp_pre_email_addresses_of_registered_users_in_seattle_washington</strong></p>
</div>
</div>
<div class="section" id="one-file-per-class">
<h2><a class="toc-backref" href="#id18">One File per Class</a><a class="headerlink" href="#one-file-per-class" title="Permalink to this headline">¶</a></h2>
<p>Use separate files for each class your add-on uses, unless the classes
are <em>closely related</em>. An example of CodeIgniter files that contains
multiple classes is the Database class file, which contains both the DB
class and the DB_Cache class, and the Magpie plugin, which contains
both the Magpie and Snoopy classes.</p>
</div>
<div class="section" id="whitespace">
<h2><a class="toc-backref" href="#id19">Whitespace</a><a class="headerlink" href="#whitespace" title="Permalink to this headline">¶</a></h2>
<p>Use tabs for whitespace in your code, not spaces. This may seem like a
small thing, but using tabs instead of whitespace allows the developer
looking at your code to have indentation at levels that they prefer and
customize in whatever application they use. And as a side benefit, it
results in (slightly) more compact files, storing one tab character
versus, say, four space characters.</p>
</div>
<div class="section" id="line-breaks">
<h2><a class="toc-backref" href="#id20">Line Breaks</a><a class="headerlink" href="#line-breaks" title="Permalink to this headline">¶</a></h2>
<p>Files must be saved with Unix line breaks. This is more of an issue for
developers who work in Windows, but in any case ensure that your text
editor is setup to save files with Unix line breaks.</p>
</div>
<div class="section" id="code-indenting">
<h2><a class="toc-backref" href="#id21">Code Indenting</a><a class="headerlink" href="#code-indenting" title="Permalink to this headline">¶</a></h2>
<p>Use Allman style indenting. With the exception of Class declarations,
braces are always placed on a line by themselves, and indented at the
same level as the control statement that &#8220;owns&#8221; them.</p>
<p><strong>INCORRECT</strong>:</p>
<div class="highlight-ci"><pre>function foo($bar) {
        // ...
}

foreach ($arr as $key =&gt; $val) {
        // ...
}

if ($foo == $bar) {
        // ...
} else {
        // ...
}

for ($i = 0; $i &lt; 10; $i++)
        {
        for ($j = 0; $j &lt; 10; $j++)
                {
                // ...
                }
        }

try {
        // ...
}
catch() {
        // ...
}</pre>
</div>
<p><strong>CORRECT</strong>:</p>
<div class="highlight-ci"><pre>function foo($bar)
{
        // ...
}

foreach ($arr as $key =&gt; $val)
{
        // ...
}

if ($foo == $bar)
{
        // ...
}
else
{
        // ...
}

for ($i = 0; $i &lt; 10; $i++)
{
        for ($j = 0; $j &lt; 10; $j++)
        {
                // ...
        }
}

try
{
        // ...
}
catch()
{
        // ...
}</pre>
</div>
</div>
<div class="section" id="bracket-and-parenthetic-spacing">
<h2><a class="toc-backref" href="#id22">Bracket and Parenthetic Spacing</a><a class="headerlink" href="#bracket-and-parenthetic-spacing" title="Permalink to this headline">¶</a></h2>
<p>In general, parenthesis and brackets should not use any additional
spaces. The exception is that a space should always follow PHP control
structures that accept arguments with parenthesis (declare, do-while,
elseif, for, foreach, if, switch, while), to help distinguish them from
functions and increase readability.</p>
<p><strong>INCORRECT</strong>:</p>
<div class="highlight-ci"><pre>$arr[ $foo ] = 'foo';</pre>
</div>
<p><strong>CORRECT</strong>:</p>
<div class="highlight-ci"><pre>$arr[$foo] = 'foo'; // no spaces around array keys</pre>
</div>
<p><strong>INCORRECT</strong>:</p>
<div class="highlight-ci"><pre>function foo ( $bar )
{

}</pre>
</div>
<p><strong>CORRECT</strong>:</p>
<div class="highlight-ci"><pre>function foo($bar) // no spaces around parenthesis in function declarations
{

}</pre>
</div>
<p><strong>INCORRECT</strong>:</p>
<div class="highlight-ci"><pre>foreach( $query-&gt;result() as $row )</pre>
</div>
<p><strong>CORRECT</strong>:</p>
<div class="highlight-ci"><pre>foreach ($query-&gt;result() as $row) // single space following PHP control structures, but not in interior parenthesis</pre>
</div>
</div>
<div class="section" id="localized-text">
<h2><a class="toc-backref" href="#id23">Localized Text</a><a class="headerlink" href="#localized-text" title="Permalink to this headline">¶</a></h2>
<p>Any text that is output in the control panel should use language
variables in your lang file to allow localization.</p>
<p><strong>INCORRECT</strong>:</p>
<div class="highlight-ci"><pre>return "Invalid Selection";</pre>
</div>
<p><strong>CORRECT</strong>:</p>
<div class="highlight-ci"><pre>return $this-&gt;lang-&gt;line('invalid_selection');</pre>
</div>
</div>
<div class="section" id="private-methods-and-variables">
<h2><a class="toc-backref" href="#id24">Private Methods and Variables</a><a class="headerlink" href="#private-methods-and-variables" title="Permalink to this headline">¶</a></h2>
<p>Methods and variables that are only accessed internally by your class,
such as utility and helper functions that your public methods use for
code abstraction, should be prefixed with an underscore.</p>
<div class="highlight-ci"><pre>convert_text()          // public method
_convert_text()         // private method</pre>
</div>
</div>
<div class="section" id="php-errors">
<h2><a class="toc-backref" href="#id25">PHP Errors</a><a class="headerlink" href="#php-errors" title="Permalink to this headline">¶</a></h2>
<p>Code must run error free and not rely on warnings and notices to be
hidden to meet this requirement. For instance, never access a variable
that you did not set yourself (such as $_POST array keys) without first
checking to see that it isset().</p>
<p>Make sure that while developing your add-on, error reporting is enabled
for ALL users, and that display_errors is enabled in the PHP
environment. You can check this setting with:</p>
<div class="highlight-ci"><pre>if (ini_get('display_errors') == 1)
{
        exit "Enabled";
}</pre>
</div>
<p>On some servers where display_errors is disabled, and you do not have
the ability to change this in the php.ini, you can often enable it with:</p>
<div class="highlight-ci"><pre>ini_set('display_errors', 1);</pre>
</div>
<p><strong>NOTE:</strong> Setting the
<a class="reference external" href="http://us.php.net/manual/en/ref.errorfunc.php#ini.display-errors">display_errors</a>
setting with ini_set() at runtime is not identical to having it enabled
in the PHP environment. Namely, it will not have any effect if the
script has fatal errors</p>
</div>
<div class="section" id="short-open-tags">
<h2><a class="toc-backref" href="#id26">Short Open Tags</a><a class="headerlink" href="#short-open-tags" title="Permalink to this headline">¶</a></h2>
<p>Always use full PHP opening tags, in case a server does not have
short_open_tag enabled.</p>
<p><strong>INCORRECT</strong>:</p>
<div class="highlight-ci"><pre>&lt;? echo $foo; ?&gt;

&lt;?=$foo?&gt;</pre>
</div>
<p><strong>CORRECT</strong>:</p>
<div class="highlight-ci"><pre>&lt;?php echo $foo; ?&gt;</pre>
</div>
</div>
<div class="section" id="one-statement-per-line">
<h2><a class="toc-backref" href="#id27">One Statement Per Line</a><a class="headerlink" href="#one-statement-per-line" title="Permalink to this headline">¶</a></h2>
<p>Never combine statements on one line.</p>
<p><strong>INCORRECT</strong>:</p>
<div class="highlight-ci"><pre>$foo = 'this'; $bar = 'that'; $bat = str_replace($foo, $bar, $bag);</pre>
</div>
<p><strong>CORRECT</strong>:</p>
<div class="highlight-ci"><pre>$foo = 'this';
$bar = 'that';
$bat = str_replace($foo, $bar, $bag);</pre>
</div>
</div>
<div class="section" id="strings">
<h2><a class="toc-backref" href="#id28">Strings</a><a class="headerlink" href="#strings" title="Permalink to this headline">¶</a></h2>
<p>Always use single quoted strings unless you need variables parsed, and
in cases where you do need variables parsed, use braces to prevent
greedy token parsing. You may also use double-quoted strings if the
string contains single quotes, so you do not have to use escape
characters.</p>
<p><strong>INCORRECT</strong>:</p>
<div class="highlight-ci"><pre>"My String"                                     // no variable parsing, so no use for double quotes
"My string $foo"                                // needs braces
'SELECT foo FROM bar WHERE baz = \'bag\''       // ugly</pre>
</div>
<p><strong>CORRECT</strong>:</p>
<div class="highlight-ci"><pre>'My String'
"My string {$foo}"
"SELECT foo FROM bar WHERE baz = 'bag'"</pre>
</div>
</div>
<div class="section" id="sql-queries">
<h2><a class="toc-backref" href="#id29">SQL Queries</a><a class="headerlink" href="#sql-queries" title="Permalink to this headline">¶</a></h2>
<p>MySQL keywords are always capitalized: SELECT, INSERT, UPDATE, WHERE,
AS, JOIN, ON, IN, etc.</p>
<p>Break up long queries into multiple lines for legibility, preferably
breaking for each clause.</p>
<p><strong>INCORRECT</strong>:</p>
<div class="highlight-ci"><pre>// keywords are lowercase and query is too long for
// a single line (... indicates continuation of line)
$query = $this-&gt;db-&gt;query("select foo, bar, baz, foofoo, foobar as raboof, foobaz from exp_pre_email_addresses
...where foo != 'oof' and baz != 'zab' order by foobaz limit 5, 100");</pre>
</div>
<p><strong>CORRECT</strong>:</p>
<div class="highlight-ci"><pre>$query = $this-&gt;db-&gt;query("SELECT foo, bar, baz, foofoo, foobar AS raboof, foobaz
                                FROM exp_pre_email_addresses
                                WHERE foo != 'oof'
                                AND baz != 'zab'
                                ORDER BY foobaz
                                LIMIT 5, 100");</pre>
</div>
</div>
<div class="section" id="default-function-arguments">
<h2><a class="toc-backref" href="#id30">Default Function Arguments</a><a class="headerlink" href="#default-function-arguments" title="Permalink to this headline">¶</a></h2>
<p>Whenever appropriate, provide function argument defaults, which helps
prevent PHP errors with mistaken calls and provides common fallback
values which can save a few lines of code. Example:</p>
<div class="highlight-ci"><pre>function foo($bar = '', $baz = FALSE)</pre>
</div>
</div>
</div>

		</div>

		<!-- {user_guide_comments} -->
					
		<div id="footer">
			<p class="top"><a href="#header" title="Return to top">Return to top</a></p>
			<p><a href="">CodeIgniter</a> &ndash; Copyright &copy; 2012, EllisLab, Inc.</a></p>
		</div><!-- /#footer -->
	</body>
</html>